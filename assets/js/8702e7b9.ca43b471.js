"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[32073],{28453:(e,a,n)=>{n.d(a,{R:()=>i,x:()=>c});var s=n(296540);const o={},r=s.createContext(o);function i(e){const a=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function c(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(r.Provider,{value:a},e.children)}},253695:(e,a,n)=>{n.d(a,{A:()=>s});const s=n.p+"assets/images/doker_5-149708b97bf508559e8f7395b7674175.png"},395040:(e,a,n)=>{n.d(a,{A:()=>s});const s=n.p+"assets/images/doker_2-cfb12e43b412392310a44f24a5782fd5.png"},475606:(e,a,n)=>{n.d(a,{A:()=>s});const s=n.p+"assets/images/doker_4-1b386fea3df4bb818f989e770b06051b.png"},750075:(e,a,n)=>{n.d(a,{A:()=>s});const s=n.p+"assets/images/doker_1-14cddfe91cd51e454df58475521c461e.png"},849865:(e,a,n)=>{n.d(a,{A:()=>s});const s=n.p+"assets/images/doker_3-1b386fea3df4bb818f989e770b06051b.png"},899152:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>t,contentTitle:()=>c,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"devs/devops/Manuales-adicionales/Doker/Iniciar-servicios","title":"Iniciar servicios docker","description":"1. Acceda a la consola de aws o google cloud y verificar el estado de su instancia, si se encuentra detenida, debera iniciarla.","source":"@site/Pro7/devs/devops/Manuales-adicionales/Doker/1-Iniciar-servicios.md","sourceDirName":"devs/devops/Manuales-adicionales/Doker","slug":"/devs/devops/Manuales-adicionales/Doker/Iniciar-servicios","permalink":"/manual/pro7/devs/devops/Manuales-adicionales/Doker/Iniciar-servicios","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"docs","previous":{"title":"Docker","permalink":"/manual/pro7/doker"},"next":{"title":"Gu\xeda para generar backup","permalink":"/manual/pro7/devs/devops/Manuales-adicionales/Doker/Generar-backup"}}');var o=n(474848),r=n(28453);const i={},c="Iniciar servicios docker",t={},d=[{value:"Recomendaciones para monitorear servidor",id:"recomendaciones-para-monitorear-servidor",level:3}];function l(e){const a={a:"a",h1:"h1",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.header,{children:(0,o.jsx)(a.h1,{id:"iniciar-servicios-docker",children:"Iniciar servicios docker"})}),"\n",(0,o.jsxs)(a.ol,{children:["\n",(0,o.jsxs)(a.li,{children:["\n",(0,o.jsx)(a.p,{children:"Acceda a la consola de aws o google cloud y verificar el estado de su instancia, si se encuentra detenida, debera iniciarla."}),"\n"]}),"\n",(0,o.jsxs)(a.li,{children:["\n",(0,o.jsxs)(a.p,{children:["Conectarse via ssh a su instancia, puede ",(0,o.jsx)(a.strong,{children:(0,o.jsx)(a.a,{href:"https://docs.google.com/document/d/1PmQejvNd_dkXVm8DPUYlQTag0wvES46tMpxX3MPhkNY/edit?tab=t.0#heading=h.nezjsyganf1w",children:"visitar la gu\xeda"})})]}),"\n"]}),"\n",(0,o.jsxs)(a.li,{children:["\n",(0,o.jsxs)(a.p,{children:["Cambiar a super usuario, ejecute: ",(0,o.jsx)(a.strong,{children:"sudo su -"})]}),"\n"]}),"\n",(0,o.jsxs)(a.li,{children:["\n",(0,o.jsx)(a.p,{children:"Verificar el estado de los contenedores, ejecute: docker ps -a, todos los contenedores deberan tener el status Up xx xxxxx, caso contrario deber\xe1 iniciarlo o reiniciarlo, ejecute:"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(a.p,{children:['CONTAINER ID        IMAGE                      COMMAND                     CREATED             STATUS              PORTS                                      NAMES\r\n92f43f53f8e4             stenfrank/php:1.0     "php-fpm7.2"                    18 hours ago        Up 18 hours         9000/tcp                                   multifacturalo_fpm2_1\r\n914a35c72512          redis',":alpine",'               "docker-entrypoint.s\u2026"   18 hours ago        Up 18 hours         0.0.0.0:6381->6379/tcp             multifacturalo_redis2_1\r\nde282cbbbc15          mariadb                    "docker-entrypoint.s\u2026"   18 hours ago         Up 18 hours         0.0.0.0:3307->3306/tcp             multifacturalo_mariadb2_1\r\neb049c8dba9c          stenfrank/nginx:1.0   "nginx"                             18 hours ago        Up 18 hours         80/tcp                                         multifacturalo_nginx2_1']}),"\n",(0,o.jsx)(a.p,{children:"Iniciar contenedor: docker start nombre_contenedor, el nombre del contenedor lo ubica en la columna names.\r\nReiniciar contenedor: docker restart nombre_contenedor, el nombre del contenedor lo ubica en la columna names."}),"\n",(0,o.jsxs)(a.ol,{start:"5",children:["\n",(0,o.jsx)(a.li,{children:"Si el problema persiste y el contenedor no inicia, realice lo siguiente:"}),"\n"]}),"\n",(0,o.jsx)(a.p,{children:"Dirijase a la carpeta de su proyecto, debe ubicarse en /home/ubuntu/.. o /root/\u2026 o /home/user_name/\u2026 ."}),"\n",(0,o.jsx)(a.p,{children:"Una vez accedido, liste los archivos con el comando ls, deber\xe1 visualizar el archivo docker  docker-compose.yml"}),"\n",(0,o.jsx)(a.p,{children:"Ejecute el comando docker-compose down, espere a que el procedimiento se realice de forma correcta, ira visualizando que los contenedores se van listando y aparece la palabra done al lado derecho de cada uno."}),"\n",(0,o.jsx)(a.p,{children:"Despues ejecute el comando, docker-compose up -d, espere a que el procedimiento se realice de forma correcta, ira visualizando que los contenedores se van listando."}),"\n",(0,o.jsxs)(a.ol,{start:"6",children:["\n",(0,o.jsx)(a.li,{children:"Ejecute nuevamente el comando docker ps -a, y valide el estado de los contenedores, si todo se encuentra correcto, verifique el correcto funcionamiento de la aplicaci\xf3n web."}),"\n"]}),"\n",(0,o.jsxs)(a.p,{children:['CONTAINER ID        IMAGE                      COMMAND                     CREATED             STATUS              PORTS                                      NAMES\r\n92f43f53f8e4             stenfrank/php:1.0     "php-fpm7.2"                    18 hours ago        Up 18 hours         9000/tcp                                   multifacturalo_fpm2_1\r\n914a35c72512          redis',":alpine",'               "docker-entrypoint.s\u2026"   18 hours ago        Up 18 hours         0.0.0.0:6381->6379/tcp             multifacturalo_redis2_1\r\nde282cbbbc15          mariadb                    "docker-entrypoint.s\u2026"   18 hours ago         Up 18 hours         0.0.0.0:3307->3306/tcp             multifacturalo_mariadb2_1\r\neb049c8dba9c          stenfrank/nginx:1.0   "nginx"                             18 hours ago        Up 18 hours         80/tcp                                         multifacturalo_nginx2_1']}),"\n",(0,o.jsx)(a.h3,{id:"recomendaciones-para-monitorear-servidor",children:"Recomendaciones para monitorear servidor"}),"\n",(0,o.jsxs)(a.ol,{children:["\n",(0,o.jsx)(a.li,{children:"Conectarse a la instancia via ssh y usar el comando htop, visualizara el estado uso del cpu, memoria, procesos ejecutandose, etc."}),"\n"]}),"\n",(0,o.jsx)(a.p,{children:(0,o.jsx)(a.img,{alt:"alt text",src:n(750075).A+"",width:"1366",height:"768"})}),"\n",(0,o.jsxs)(a.ol,{start:"2",children:["\n",(0,o.jsx)(a.li,{children:"Visualice el espacio en disco, con el comando df -h,  en este caso el disco se encuentra con 16gb disponibles - /dev/xvda1"}),"\n"]}),"\n",(0,o.jsx)(a.p,{children:(0,o.jsx)(a.img,{alt:"alt text",src:n(395040).A+"",width:"1366",height:"768"})}),"\n",(0,o.jsxs)(a.ol,{start:"3",children:["\n",(0,o.jsx)(a.li,{children:"Dirijase a la consola de aws, secci\xf3n Instances, ubique su instancia en el listado de instancias, verifique la columna Status Checks, se muestra el estado de la comprobacion que realiza AWS para identificar problemas relacionados a los recursos."}),"\n"]}),"\n",(0,o.jsx)(a.p,{children:(0,o.jsx)(a.img,{alt:"alt text",src:n(849865).A+"",width:"1366",height:"768"})}),"\n",(0,o.jsxs)(a.ol,{start:"4",children:["\n",(0,o.jsx)(a.li,{children:"Dirijase a la consola de aws, secci\xf3n Instances, ubique la pesta\xf1a Monitoring,  visualizara diversos graficos estadisticos, relacionados a la instancia, verifique y analice cada uno, por ejemplo el uso de cpu, memoria, picos altos, etc."}),"\n"]}),"\n",(0,o.jsx)(a.p,{children:(0,o.jsx)(a.img,{alt:"alt text",src:n(475606).A+"",width:"1366",height:"768"})}),"\n",(0,o.jsx)(a.p,{children:"Utilice los filtros, considerando la fecha y hora en la cual su servidor tuvo problemas, para poder veirificar y analizar el uso en dicho momento."}),"\n",(0,o.jsx)(a.p,{children:(0,o.jsx)(a.img,{alt:"alt text",src:n(253695).A+"",width:"1366",height:"768"})})]})}function u(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,o.jsx)(a,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}}}]);