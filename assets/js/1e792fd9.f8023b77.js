"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[37460],{28453:(e,s,a)=>{a.d(s,{R:()=>c,x:()=>d});var n=a(296540);const r={},o=n.createContext(r);function c(e){const s=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),n.createElement(o.Provider,{value:s},e.children)}},477487:(e,s,a)=>{a.r(s),a.d(s,{assets:()=>i,contentTitle:()=>d,default:()=>u,frontMatter:()=>c,metadata:()=>n,toc:()=>t});const n=JSON.parse('{"id":"devs/devops/Manuales-adicionales/Acceso-DB/Guia-acceso-a-base-de-datos","title":"Gu\xeda acceso a base de datos  -  Docker","description":"Conectarse con un gestor de base de datos","source":"@site/Pro7/devs/devops/Manuales-adicionales/Acceso-DB/1-Guia-acceso-a-base-de-datos.md","sourceDirName":"devs/devops/Manuales-adicionales/Acceso-DB","slug":"/devs/devops/Manuales-adicionales/Acceso-DB/Guia-acceso-a-base-de-datos","permalink":"/pro7/devs/devops/Manuales-adicionales/Acceso-DB/Guia-acceso-a-base-de-datos","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"docs","previous":{"title":"Acceso a la Base de Datos","permalink":"/pro7/acceso-db"},"next":{"title":"Change root password in MariaDB Docker container running with docker-compose","permalink":"/pro7/devs/devops/Manuales-adicionales/Acceso-DB/Cambiar-Contrase\xf1a-root"}}');var r=a(474848),o=a(28453);const c={},d="Gu\xeda acceso a base de datos  -  Docker\xa0",i={},t=[{value:"Conectarse con un gestor de base de datos",id:"conectarse-con-un-gestor-de-base-de-datos",level:3},{value:"Conectarse desde la terminal de su servidor - Instalaci\xf3n docker",id:"conectarse-desde-la-terminal-de-su-servidor---instalaci\xf3n-docker",level:3},{value:"GESTIONAR RESPALDOS EN DOCKER",id:"gestionar-respaldos-en-docker",level:3}];function l(e){const s={a:"a",code:"code",h1:"h1",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"gu\xeda-acceso-a-base-de-datos-----docker",children:"Gu\xeda acceso a base de datos  -  Docker\xa0"})}),"\n",(0,r.jsx)(s.h3,{id:"conectarse-con-un-gestor-de-base-de-datos",children:"Conectarse con un gestor de base de datos"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Verificar si cuenta con el puerto 3306 aperturado, caso contrario aperturarlo"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsxs)(s.strong,{children:["\u2022 Google: ",(0,r.jsx)(s.a,{href:"https://cloud.google.com/vpc/docs/using-firewalls?hl=es-419",children:"https://cloud.google.com/vpc/docs/using-firewalls?hl=es-419"})]}),"\r\n",(0,r.jsxs)(s.strong,{children:["\u2022 AWS: ",(0,r.jsx)(s.a,{href:"https://www.youtube.com/watch?v=MKxB8ZT2kfk",children:"https://www.youtube.com/watch?v=MKxB8ZT2kfk"})]})]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Ubicar el usuario y contrase\xf1a de base de datos, se los deben haber enviado al realizar la instalacion, tambien puede obtenerla accediendo a su proyecto v\xeda ssh y visualizar el archivo .env"}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Ubicar la IP de su servidor"}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Usar un software como heidi, navicat, mysqlworkbench entre otros e ingresar la ip, usuario y contrase\xf1a"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.strong,{children:["Referencia: ",(0,r.jsx)(s.a,{href:"https://webenabled.com/using-navicat",children:"https://webenabled.com/using-navicat"})]})}),"\n",(0,r.jsx)(s.h3,{id:"conectarse-desde-la-terminal-de-su-servidor---instalaci\xf3n-docker",children:"Conectarse desde la terminal de su servidor - Instalaci\xf3n docker"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Conectarse v\xeda ssh a su instancia"}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Ubicar el usuario y contrase\xf1a de base de datos, se los deben haber enviado al realizar la instalacion, tambien puede obtenerla accediendo a su proyecto v\xeda ssh y visualizar el archivo .env"}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Ejecutar docker ps y verificar el contenedor de la base de datos"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:['CONTAINER ID\xa0 \xa0 \xa0 \xa0 IMAGE\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 COMMAND \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 CREATED \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 STATUS\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 PORTS\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 NAMES\r\n92f43f53f8e4 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 stenfrank/php:1.0 \xa0 \xa0 "php-fpm7.2"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 18 hours ago\xa0 \xa0 \xa0 \xa0 Up 18 hours \xa0 \xa0 \xa0 \xa0 9000/tcp \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 multifacturalo_fpm2_1\r\n914a35c72512\xa0 \xa0 \xa0 \xa0 \xa0 redis',":alpine",' \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "docker-entrypoint.s\u2026" \xa0 18 hours ago\xa0 \xa0 \xa0 \xa0 Up 18 hours \xa0 \xa0 \xa0 \xa0 0.0.0.0:6381->6379/tcp \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 multifacturalo_redis2_1\r\nde282cbbbc15\xa0 \xa0 \xa0 \xa0 \xa0 mariadb\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 "docker-entrypoint.s\u2026" \xa0 18 hours ago \xa0 \xa0 \xa0 \xa0 Up 18 hours \xa0 \xa0 \xa0 \xa0 0.0.0.0:3307->3306/tcp \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 multifacturalo_mariadb2_1\r\neb049c8dba9c\xa0 \xa0 \xa0 \xa0 \xa0 stenfrank/nginx:1.0 \xa0 "nginx" \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 18 hours ago\xa0 \xa0 \xa0 \xa0 Up 18 hours \xa0 \xa0 \xa0 \xa0 80/tcp \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 multifacturalo_nginx2_1']}),"\n",(0,r.jsxs)(s.ol,{start:"4",children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"En la lista deber\xe1 fijarse en los NAMES que contengan mariadb ya que en \xe9l deber\xe1 acceder.\xa0"}),"\n",(0,r.jsx)(s.p,{children:"\u2022 multifacturalo_mariadb2_1 es el contenedor donde podr\xe1 acceder a mysql y utilizar comandos para ello"}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Una vez ubicado el contenedor a acceder, ejecute el siguiente comando:"}),"\n",(0,r.jsx)(s.p,{children:"\u2022 docker exec -ti multifacturalo_mariadb2_1 /bin/bash"}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"De esta manera se conectar\xe1 al contenedor, observar\xe1 una cambio en el inicio de la terminal"}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Debe ejecutar el siguiente comando"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"    \u2022 mysql -u root -p\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Donde root es su usuario de base de datos"})}),"\n",(0,r.jsxs)(s.ol,{start:"8",children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Ingrese la\xa0 contrase\xf1a de base de datos"}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Habr\xe1 accedido a su base de datos, puede ejecutar comandos sql"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"gestionar-respaldos-en-docker",children:"GESTIONAR RESPALDOS EN DOCKER"}),"\n",(0,r.jsx)(s.p,{children:"Si desea respaldar o montar un respaldo de una bd puede ejecutar los siguientes comandos"}),"\n",(0,r.jsx)(s.h1,{id:"backup",children:"Backup"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"docker exec CONTAINER /usr/bin/mysqldump -u root --password=root DATABASE > backup.sql\r\n\n"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Restore\r\ncat backup.sql | docker exec -i CONTAINER /usr/bin/mysql -u root --password=root DATABASE\n"})})]})}function u(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);